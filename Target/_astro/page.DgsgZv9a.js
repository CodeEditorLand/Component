function C(e){e=e||1;var t=[],n=0;function o(){n<e&&t.length>0&&(t.shift()(),n++)}return[function(e){t.push(e)>1||o()},function(){n--,o()}]}function I(e,t){const n=t?.timeout??50,o=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,n-(Date.now()-o))}})}),1)}const P=window.requestIdleCallback||I;var D=P;const p=["mouseenter","touchstart","focus"],b=new Set,w=new Set;function y({href:e}){try{const t=new URL(e);return window.location.origin===t.origin&&window.location.pathname!==t.pathname&&!b.has(e)}catch{}return!1}let E,f;function O(e){b.add(e.href),f.observe(e),p.map((t=>e.addEventListener(t,v,{passive:!0,once:!0})))}function q(e){f.unobserve(e),p.map((t=>e.removeEventListener(t,v)))}function v({target:e}){e instanceof HTMLAnchorElement&&S(e)}async function S(e){q(e);const{href:t}=e;try{const e=await fetch(t).then((e=>e.text()));E||=new DOMParser;const n=E.parseFromString(e,"text/html"),o=Array.from(n.querySelectorAll('link[rel="stylesheet"]'));await Promise.all(o.filter((e=>!w.has(e.href))).map((e=>(w.add(e.href),fetch(e.href)))))}catch{}}function H({selector:e='a[href][rel~="prefetch"]',throttle:t=1,intentSelector:n='a[href][rel~="prefetch-intent"]'}){if(!navigator.onLine)return Promise.reject(new Error("Cannot prefetch, no network connection"));if("connection"in navigator){const e=navigator.connection;if(e.saveData)return Promise.reject(new Error("Cannot prefetch, Save-Data is enabled"));if(/(2|3)g/.test(e.effectiveType))return Promise.reject(new Error("Cannot prefetch, network conditions are poor"))}const[o,r]=C(t);f=f||new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting&&e.target instanceof HTMLAnchorElement){const t=e.target.getAttribute("rel")||"";let c=!1;c=Array.isArray(n)?n.some((e=>t.includes(e))):t.includes(n),c||o((()=>S(e.target).finally(r)))}}))})),D((()=>{[...document.querySelectorAll(e)].filter(y).forEach(O);const t=Array.isArray(n)?n.join(","):n;[...document.querySelectorAll(t)].filter(y).forEach((e=>{p.map((t=>e.addEventListener(t,v,{passive:!0,once:!0})))}))}))}const A=new Set,u=new WeakSet;let m,T,L=!1;function M(e){L||(L=!0,m??=!1,T??="hover",j(),N(),x(),U())}function j(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,(e=>{c(e.target,"tap")&&l(e.target.href,{ignoreSlowConnection:!0})}),{passive:!0})}function N(){let e;function t(t){const n=t.target.href;e&&clearTimeout(e),e=setTimeout((()=>{l(n)}),80)}function n(){e&&(clearTimeout(e),e=0)}document.body.addEventListener("focusin",(e=>{c(e.target,"hover")&&t(e)}),{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),g((()=>{for(const e of document.getElementsByTagName("a"))u.has(e)||c(e,"hover")&&(u.add(e),e.addEventListener("mouseenter",t,{passive:!0}),e.addEventListener("mouseleave",n,{passive:!0}))}))}function x(){let e;g((()=>{for(const t of document.getElementsByTagName("a"))u.has(t)||c(t,"viewport")&&(u.add(t),e??=R(),e.observe(t))}))}function R(){const e=new WeakMap;return new IntersectionObserver(((t,n)=>{for(const o of t){const t=o.target,r=e.get(t);o.isIntersecting?(r&&clearTimeout(r),e.set(t,setTimeout((()=>{n.unobserve(t),e.delete(t),l(t.href)}),300))):r&&(clearTimeout(r),e.delete(t))}}))}function U(){g((()=>{for(const e of document.getElementsByTagName("a"))c(e,"load")&&l(e.href)}))}function l(e,t){if(V(e=e.replace(/#.*/,""),t?.ignoreSlowConnection??!1))if(A.add(e),HTMLScriptElement.supports?.("speculationrules"))B(e);else if(document.createElement("link").relList?.supports?.("prefetch")&&"fetch"!==t?.with){const t=document.createElement("link");t.rel="prefetch",t.setAttribute("href",e),document.head.append(t)}else fetch(e,{priority:"low"})}function V(e,t){if(!navigator.onLine||!t&&k())return!1;try{const t=new URL(e,location.href);return location.origin===t.origin&&(location.pathname!==t.pathname||location.search!==t.search)&&!A.has(e)}catch{}return!1}function c(e,t){if("A"!==e?.tagName)return!1;const n=e.dataset.astroPrefetch;return"false"!==n&&(!("tap"!==t||null==n&&!m||!k())||(null==n&&m||""===n?t===T:n===t))}function k(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/2g/.test(e.effectiveType)}return!1}function g(e){e();let t=!1;document.addEventListener("astro:page-load",(()=>{t?e():t=!0}))}function B(e){const t=document.createElement("script");t.type="speculationrules",t.textContent=JSON.stringify({prerender:[{source:"list",urls:[e]}],prefetch:[{source:"list",urls:[e]}]}),document.head.append(t)}H({}),M();
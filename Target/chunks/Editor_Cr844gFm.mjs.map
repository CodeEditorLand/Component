{"version":3,"file":"Editor_Cr844gFm.mjs","sources":["../../../Wind/Target/Element/Editor.js"],"sourcesContent":["var H=({Type:r}={Type:\"HTML\"})=>{const[n,{Form:d,Field:f}]=x(),i=crypto.randomUUID();m(p(o.Editors[0],e=>{F(n,\"Content\",e.get(i)?.Content??\"\",{shouldFocus:!1,shouldTouched:!1}),S(n)},{defer:!1}));const s=D(E(r));m(p(c.Messages[0],e=>e?.get(\"Type\")&&s[1](e?.get(\"Type\")),{defer:!1}));let u,t;return o.Editors[0]().set(i,{Type:r,Hidden:o.Editors[0]().size>0,Content:s[0]()}),L(()=>{u instanceof HTMLElement&&(t=C.create(u,{value:s[0](),language:r.toLowerCase(),automaticLayout:!0,lineNumbers:\"off\",\"semanticHighlighting.enabled\":\"configuredByTheme\",autoClosingBrackets:\"always\",autoIndent:\"full\",tabSize:4,detectIndentation:!1,useTabStops:!0,minimap:{enabled:!1},scrollbar:{useShadows:!0,horizontal:\"hidden\",verticalScrollbarSize:10,verticalSliderSize:4,alwaysConsumeMouseWheel:!1},folding:!1,theme:window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"Dark\":\"Light\",wrappingStrategy:\"advanced\",word:\"on\",bracketPairColorization:{enabled:!0,independentColorPoolPerBracketType:!0},padding:{top:12,bottom:12},fixedOverflowWidgets:!0,tabCompletion:\"on\",acceptSuggestionOnEnter:\"on\",cursorWidth:5,roundedSelection:!0,matchBrackets:\"always\",autoSurround:\"languageDefined\",screenReaderAnnounceInlineSuggestion:!1,renderFinalNewline:\"on\",selectOnLineNumbers:!1,formatOnType:!0,formatOnPaste:!0,fontFamily:\"'Source Code Pro'\",fontWeight:\"400\",fontLigatures:!0,links:!1,fontSize:16}),t.getModel()?.setEOL(C.EndOfLineSequence.LF),t.onKeyDown(e=>{e.ctrlKey&&e.code===\"KeyS\"&&(e.preventDefault(),S(n),n.element?.submit())}),t.getModel()?.onDidChangeContent(()=>{o.Editors[1](h(o.Editors[0](),new Map([[i,{Content:t.getModel()?.getValue()??\"\",Hidden:o.Editors[0]()?.get(i)?.Hidden??!0,Type:r}]])))}),t.onDidChangeModelLanguageConfiguration(()=>t.getAction(\"editor.action.formatDocument\")?.run()),t.onDidLayoutChange(()=>t.getAction(\"editor.action.formatDocument\")?.run()),window.addEventListener(\"load\",()=>t.getAction(\"editor.action.formatDocument\")?.run()),setTimeout(()=>t.getAction(\"editor.action.formatDocument\")?.run(),1e3),m(p(s[0],e=>t.getModel()?.setValue(e),{defer:!1})),c.Socket[0]()?.send(JSON.stringify({Key:l.Items[0]()?.get(\"Key\")?.[0](),Identifier:l.Items[0]()?.get(\"Identifier\")?.[0](),From:\"Content\",View:r})))}),createComponent(\"div\",{class:!o.Editors[0]()?.get(i)?.Hidden&&b.Data[0]()?.get(\"Name\")?\"\":\"hidden\"},createComponent(\"p\",null,\"Edit your\",\" \",createComponent(I,{each:Array.from(o.Editors[0]().entries())},(e,a)=>createComponent(Fragment,null,createComponent(T,{Action:()=>{o.Editors[0]().forEach((g,y)=>{g.Hidden=e[0]!==y,o.Editors[1](h(o.Editors[0](),new Map([[y,g]])))}),setTimeout(()=>{t.setScrollPosition({scrollTop:-50})},1e3)}},e[1].Type),a()===o.Editors[0]().size-1?\"\":\" / \")),\" \",\"here:\"),createComponent(\"br\",null),createComponent(d,{method:\"post\",onSubmit:w},createComponent(f,{name:\"Content\",validate:[v(`Please enter some ${r}.`)]},(e,a)=>createComponent(\"div\",{class:\"w-full\"},createComponent(\"div\",{class:\"Editor\"},createComponent(\"code\",{ref:u,class:\"Monaco\"}),e.error&&createComponent(Fragment,null,createComponent(\"div\",{class:\"Error\",onClick:()=>{M(n,\"Content\"),t.focus()}},createComponent(\"span\",null,\"\\xA0\\xA0\\xA0\",e.error))),createComponent(\"input\",{...a,value:o.Editors[0]()?.get(i)?.Content??\"\",type:\"hidden\",required:!0})))),createComponent(f,{name:\"Field\"},(e,a)=>createComponent(\"input\",{type:\"hidden\",...a,value:r}))))};const E=r=>{switch(r){case\"CSS\":return`\n/* Example CSS Code */\nbody {\n\n}\t\t\t\n`;case\"HTML\":return`\n<!-- Example HTML Code -->\n<!doctype html>\n<html lang=\"en\">\n\t<body>\n\t</body>\n</html>\n`;case\"TypeScript\":return`\n/**\n * Example TypeScript Code\n */\nexport default () => ({});\n`;default:return\"\"}},w=({Content:r,Field:n},d)=>{d&&(d.preventDefault(),c.Socket[0]()?.send(JSON.stringify({Key:l.Items[0]()?.get(\"Key\")?.[0](),Identifier:l.Items[0]()?.get(\"Identifier\")?.[0](),To:n,Input:r})))},{default:o}=await import(\"../Context/Action/Context.js\"),{default:c}=await import(\"../Context/Connection/Context.js\"),{default:b}=await import(\"../Context/Session/Context.js\"),{default:l}=await import(\"../Context/Store/Context.js\"),{default:T}=await import(\"./Anchor.js\"),{default:A}=await import(\"./Button.js\"),{default:k,Fn:O}=await import(\"./Tip/Copy.js\"),{default:h}=await import(\"../Function/Merge.js\");import{clearError as M,createForm as x,required as v,setValue as F,validate as S}from\"@modular-forms/solid\";import{editor as C}from\"monaco-editor\";import{onMount as L}from\"solid-js\";import{For as I,createEffect as m,createSignal as D,on as p}from\"solid-js\";import\"../Stylesheet/Element/Action.scss\";import\"../Stylesheet/Element/Editor.scss\";export{o as Action,T as Anchor,A as Button,c as Connection,O as Copy,h as Merge,E as Return,b as Session,l as Store,k as Tip,w as Update,H as default};\n"],"names":["x","m","p","F","S","D","L","C","I","v","M"],"mappings":"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"}